(this["webpackJsonprecipe-notebook"]=this["webpackJsonprecipe-notebook"]||[]).push([[7],{147:function(e,a,t){"use strict";t.r(a);var n=t(47),i=t(46),r=t(34),o=t(0),l=t.n(o),c=t(25),p=t(21),s=t(146),d=t(122),u=t(1),m=t(2),b=t(22),h=(t(4),t(3)),g=t(5),v=t(12),x=t(116),E=t(112),f=t(81),k=t(14),y=t(80),w={enter:k.b.enteringScreen,exit:k.b.leavingScreen},O=o.forwardRef((function(e,a){var t=e.BackdropProps,n=e.children,i=e.classes,r=e.className,l=e.disableBackdropClick,c=void 0!==l&&l,p=e.disableEscapeKeyDown,s=void 0!==p&&p,d=e.fullScreen,b=void 0!==d&&d,g=e.fullWidth,k=void 0!==g&&g,O=e.maxWidth,j=void 0===O?"sm":O,C=e.onBackdropClick,W=e.onClose,S=e.onEnter,D=e.onEntered,P=e.onEntering,B=e.onEscapeKeyDown,T=e.onExit,I=e.onExited,R=e.onExiting,N=e.open,A=e.PaperComponent,F=void 0===A?y.a:A,q=e.PaperProps,U=void 0===q?{}:q,K=e.scroll,$=void 0===K?"paper":K,M=e.TransitionComponent,L=void 0===M?f.a:M,Y=e.transitionDuration,X=void 0===Y?w:Y,H=e.TransitionProps,J=e["aria-describedby"],_=e["aria-labelledby"],z=Object(m.a)(e,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps","aria-describedby","aria-labelledby"]),G=o.useRef();return o.createElement(x.a,Object(u.a)({className:Object(h.a)(i.root,r),BackdropComponent:E.a,BackdropProps:Object(u.a)({transitionDuration:X},t),closeAfterTransition:!0,disableBackdropClick:c,disableEscapeKeyDown:s,onEscapeKeyDown:B,onClose:W,open:N,ref:a},z),o.createElement(L,Object(u.a)({appear:!0,in:N,timeout:X,onEnter:S,onEntering:P,onEntered:D,onExit:T,onExiting:R,onExited:I,role:"none presentation"},H),o.createElement("div",{className:Object(h.a)(i.container,i["scroll".concat(Object(v.a)($))]),onClick:function(e){e.target===e.currentTarget&&e.target===G.current&&(G.current=null,C&&C(e),!c&&W&&W(e,"backdropClick"))},onMouseDown:function(e){G.current=e.target}},o.createElement(F,Object(u.a)({elevation:24,role:"dialog","aria-describedby":J,"aria-labelledby":_},U,{className:Object(h.a)(i.paper,i["paperScroll".concat(Object(v.a)($))],i["paperWidth".concat(Object(v.a)(String(j)))],U.className,b&&i.paperFullScreen,k&&i.paperFullWidth)}),n))))})),j=Object(g.a)((function(e){return{root:{"@media print":{position:"absolute !important"}},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}},container:{height:"100%","@media print":{height:"auto"},outline:0},paper:{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},paperScrollPaper:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},paperScrollBody:{display:"inline-block",verticalAlign:"middle",textAlign:"left"},paperWidthFalse:{maxWidth:"calc(100% - 64px)"},paperWidthXs:{maxWidth:Math.max(e.breakpoints.values.xs,444),"&$paperScrollBody":Object(b.a)({},e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})},paperWidthSm:{maxWidth:e.breakpoints.values.sm,"&$paperScrollBody":Object(b.a)({},e.breakpoints.down(e.breakpoints.values.sm+64),{maxWidth:"calc(100% - 64px)"})},paperWidthMd:{maxWidth:e.breakpoints.values.md,"&$paperScrollBody":Object(b.a)({},e.breakpoints.down(e.breakpoints.values.md+64),{maxWidth:"calc(100% - 64px)"})},paperWidthLg:{maxWidth:e.breakpoints.values.lg,"&$paperScrollBody":Object(b.a)({},e.breakpoints.down(e.breakpoints.values.lg+64),{maxWidth:"calc(100% - 64px)"})},paperWidthXl:{maxWidth:e.breakpoints.values.xl,"&$paperScrollBody":Object(b.a)({},e.breakpoints.down(e.breakpoints.values.xl+64),{maxWidth:"calc(100% - 64px)"})},paperFullWidth:{width:"calc(100% - 64px)"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,"&$paperScrollBody":{margin:0,maxWidth:"100%"}}}}),{name:"MuiDialog"})(O),C=t(115),W=4,S=Object(C.a)({form:{display:"flex",flexDirection:"column",alignItems:"flex-start"}}),D={name:"",cookingTime:"",description:"",categories:"",ingredients:"",instructions:""};function P(e,a){switch(a.type){case"INPUT":return Object(r.a)({},e,Object(i.a)({},a.payload.name,a.payload.value));case"DELETE":var t=e[a.payload.name].slice();return t.splice(a.payload.index,1),Object(r.a)({},e,Object(i.a)({},a.payload.name,t));default:throw new Error("Invalid Action detected")}}a.default=function(){var e=S(),a=Object(o.useReducer)(P,D),t=Object(n.a)(a,2),i=t[0],u=t[1],m=Object(o.useState)(!1),b=Object(n.a)(m,2),h=b[0],g=b[1],v=Object(o.useState)(!1),x=Object(n.a)(v,2),E=x[0],f=x[1],k=Object(c.b)(),y=l.a.createRef(),w=function(e){return function(a){u({type:"INPUT",payload:{name:e,value:a.target.value}})}};return h?l.a.createElement(p.a,{to:"/"}):l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null,"Submit new recipe"),l.a.createElement("p",null,"Enter the details of your new recipe here"),l.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a=i.categories.split(" "),t=i.ingredients.split("\n"),n=i.instructions.split("\n");console.log(y.current.files[0]);var o="",l=new FileReader;l.readAsDataURL(y.current.files[0]),l.onload=function(e){o=l.result;var c,p={name:i.name,dateUploaded:new Date,description:i.description,categories:a,image:o,cookingTime:i.cookingTime,ingredients:t,instructions:n,saves:0};k((c=p,{type:"ADD_RECIPE",payload:Object(r.a)({},c,{id:++W})})),k({type:"UPLOAD",payload:{recipeId:W}}),f(!0)}},className:e.form},l.a.createElement("input",{type:"file",accept:"image/*",ref:y,id:"fileInput"}),l.a.createElement("label",{htmlFor:"fileInput"},"Upload a picture of the recipe"),l.a.createElement(s.a,{label:"Recipe Name",variant:"outlined",value:i.name,onChange:w("name"),required:!0}),l.a.createElement(s.a,{label:"Cooking time",variant:"outlined",value:i.cookingTime,onChange:w("cookingTime"),required:!0}),l.a.createElement(s.a,{label:"Description",variant:"outlined",value:i.description,onChange:w("description"),required:!0}),l.a.createElement(s.a,{helperText:"Enter each category followed by a space",label:"Categories",variant:"outlined",value:i.categories,onChange:w("categories"),required:!0}),l.a.createElement(s.a,{helperText:"Enter each ingredient followed by a new line",label:"Ingredients Required",variant:"outlined",multiline:!0,rows:7,value:i.ingredients,onChange:w("ingredients"),required:!0}),l.a.createElement(s.a,{helperText:"Enter each instruction followed by a new line",label:"Preparation Instructions",variant:"outlined",multiline:!0,rows:7,value:i.instructions,onChange:w("instructions"),required:!0}),l.a.createElement(d.a,{type:"submit"},"Upload Recipe")),l.a.createElement(j,{open:E},"Your recipe has been uploaded",l.a.createElement(d.a,{onClick:function(){f(!1),g(!0)}},"Ok")))}}}]);
//# sourceMappingURL=7.21f03005.chunk.js.map